<!DOCTYPE html>
<html>
<head>
  <script src="https://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js"></script>
  <style>
    body { margin: 0; padding: 0;
    background: white; }
  </style>
</head>
<body>
  <div id="notation"></div>
  <script>
    // Flutter will inject MUSICXML_DATA later
    const data = `{{MUSICXML_DATA}}`;
    document.addEventListener("DOMContentLoaded", (event) => {
      verovio.module.onRuntimeInitialized = () => {
        let tk = new verovio.toolkit();
        console.log("Verovio has loaded!");


        try {
          let svg = tk.renderData(data, {});
          document.getElementById("notation").innerHTML = svg;
        } catch (err) {
          console.error("Verovio error:", err);
        }
      }
    });

  </script>
</body>
</html>
